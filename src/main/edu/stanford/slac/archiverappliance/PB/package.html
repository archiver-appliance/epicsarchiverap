<!DOCTYPE html>
<html>
  <head>
    <meta charset="ISO-8859-1" />
    <title>edu.stanford.slac.archiverappliance.PB package summary</title>
  </head>
  <body>
    Contains the protocol buffer definitions of EPICS
    <code>DBR_TIME</code> types. See <code>EPICSEvent.proto</code> and
    <code>StatusSeverity.proto</code> for the definitions. There is a shell
    script <code>proto2java.sh</code> that contains the typical command used to
    convert <code>.proto</code> files into <code>.java</code> files. This shell
    script assumes that protocol buffers is installed and that
    <code>protoc</code> is in the path.
    <br />
    The javadoc for this package shows a lot of classes, interfaces and enums.
    These are automatically generated by <code>protoc</code> from the
    <code>.proto</code> files and therefore lack documentation. This
    documentation can be found in the <code>.proto</code> files themselves. Here
    is a brief summary.
    <ol>
      <li>
        There are scalar and vector (waveform) versions of the basic EPICS
        types. Please refer to the EPICS documentation for more details on these
        entities.
      </li>
      <li>
        These are all <code>DBR_TIME</code> types - they have
        time+value+status+severity.
      </li>
      <li>
        Time in EPICS has nanosecond precision - so the timestamp here is broken
        into <code>year + secondsintoyear</code> and
        <code>nano</code> components.
      </li>
      <li>
        JODA (a popular Java time library) is used to go back and forth between
        epoch seconds (or millis, which is what comes from
        <code>System.currentTimeMillis()</code>) and
        <code>year + secondsintoyear</code>
      </li>
      <li>
        The <code>year</code> part of the timestamp is expected to be
        stored/transmitted once in the header; therefore, the PB versions of the
        EPICS DBR types only have <code>secondsintoyear</code> and
        <code>nano</code> fields.
      </li>
      <li>
        The <code>EPICSEvent.PayloadInfo</code> is the proto/java object that
        represents the header. It contains the DBR type, PV name, year and lots
        of other optional information.
      </li>
      <li>
        The optional fields <code>lowerDisplayLimit</code> and
        <code>upperDisplayLimit</code> in
        <code>EPICSEvent.PayloadInfo</code> are typically the graphic limits.
      </li>
    </ol>
  </body>
</html>
